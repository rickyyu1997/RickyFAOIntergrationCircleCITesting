{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Contains an array of categories.",
  "required": [
    "head",
    "items"
  ],
  "allOf": [
    {
      "type": "object",
      "properties": {
        "head": {
          "type": "object",
          "anyOf": [
            {
              "required": [
                "shop",
                "locale"
              ],
              "properties": {
                "shop": {
                  "type": "string",
                  "description": "Identifier of the shop using these categories."
                },
                "locale": {
                  "type": "string",
                  "description": "The language of the categories."
                },
                "is_master": {
                  "type": "boolean",
                  "description": "Defines whether the imported locale is the master one. If this value is omitted, the imported locale is treated as master locale.",
                  "default": true
                }
              }
            },
            {
              "required": [
                "catalog",
                "locale"
              ],
              "properties": {
                "catalog": {
                  "type": "string",
                  "description": "Identifier of the catalog using these categories."
                },
                "locale": {
                  "type": "string",
                  "description": "The language of the categories."
                },
                "is_master": {
                  "type": "boolean",
                  "description": "Defines whether the imported locale is the master one. If this value is omitted, the imported locale is treated as master locale.",
                  "default": true
                }
              }
            }
          ]
        }
      }
    },
    {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "minLength": 1,
          "items": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Category",
            "type": "object",
            "description": "Category object. A category is an arbitrary group of products that are related. For example, shoes or accessories. Categories are typically organized hierarchically. For example 'Shop > Shoes > Sandals'. Some of these fields are not used by default but can be manipulated via the NewStore SDK to be exposed in the Consumer App or the Associate App.",
            "required": [
              "path"
            ],
            "properties": {
              "path": {
                "description": "Describes the hierarchy of the category. Categories and sub-categories must be separated by an angle bracket ([space]>[space]). For example, 'Shop > Clothing > Jackets'.",
                "type": "string"
              },
              "description": {
                "description": "The description of the category.",
                "type": "string"
              },
              "images": {
                "type": "array",
                "items": {
                  "$schema": "http://json-schema.org/draft-04/schema#",
                  "type": "object",
                  "title": "Category Image",
                  "description": "Information about a category image.",
                  "required": [
                    "url"
                  ],
                  "properties": {
                    "url": {
                      "description": "Category image URL. The server hosting the images must be available to NewStore.",
                      "type": "string",
                      "format": "uri"
                    },
                    "title": {
                      "description": "Category image title.",
                      "type": "string"
                    },
                    "identifier": {
                      "type": "string",
                      "description": "Category image identifier (e.g. image-top-1)."
                    },
                    "is_main": {
                      "type": "boolean",
                      "description": "Identifies the main image. The image that is considered the 'main image' is the first image of the category that consumers/associates see in the applications."
                    },
                    "alt_text": {
                      "description": "The alternative text for the image, used if the image fails to be displayed.",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "tags": {
                      "description": "Tenant-specific tags.",
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              },
              "keywords": {
                "description": "List of keywords describing the category. By default, this field has no effect in the NewStore applications.",
                "type": "array",
                "minItems": 0,
                "items": {
                  "type": "string"
                }
              },
              "position": {
                "description": "Defines the position of this category in the category listing in the NewStore applications. By default, this field has no effect in the NewStore applications.",
                "type": "integer"
              },
              "google_category": {
                "type": "string",
                "description": "The size category of the products in this category.",
                "enum": [
                  "clothing",
                  "shoes",
                  "hat",
                  "gloves",
                  "none"
                ]
              },
              "extended_attributes": {
                "description": "Determines a collection of key/values for custom diversification of the product.",
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "name",
                    "value"
                  ],
                  "properties": {
                    "name": {
                      "description": "Name of the extended attribute.",
                      "type": "string"
                    },
                    "value": {
                      "description": "Value of the extended attribute.",
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  ]
}
